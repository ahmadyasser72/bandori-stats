DROP VIEW `latest_snapshots`;--> statement-breakpoint
CREATE VIEW `latest_snapshots` AS select "accounts"."id", "accounts"."username", "account_snapshots"."snapshotDate", "account_snapshots"."rank", "account_snapshots"."clearCount", "account_snapshots"."fullComboCount", "account_snapshots"."allPerfectCount", "account_snapshots"."highScoreRating", "account_snapshots"."bandRating" from "accounts" inner join (select "accountId", MAX("snapshotDate") as "latestDate" from "account_snapshots" group by "account_snapshots"."accountId") "latest" on "accounts"."id" = "latest"."accountId" inner join "account_snapshots" on ("account_snapshots"."accountId" = "latest"."accountId" and "account_snapshots"."snapshotDate" = "latestDate");